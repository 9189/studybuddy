(this.webpackJsonpstudybuddy_front=this.webpackJsonpstudybuddy_front||[]).push([[0],{321:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},406:function(e,t){},448:function(e,t,n){},449:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},452:function(e,t,n){},636:function(e,t,n){},637:function(e,t,n){},638:function(e,t,n){},639:function(e,t,n){},640:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),r=n(52),i=n.n(r),l=(n(321),n(2)),o=n(22),u=n(12),d=n(38),j=n(11),b=n.n(j),h=n(19),m=(n(323),function(e){var t=e.onClickNext,n=e.setEmail,a=e.email,s=e.passwort,r=e.setPasswort,i=e.passwortRepeat,l=e.setPasswortRepeat,o=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://localhost:8080/api/check?email="+a,e.next=4,fetch(t,{headers:{"content-type":"application/json"},method:"GET",credentials:"include"});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,!n.ok){e.next=18;break}if(!c){e.next=14;break}return console.log(c),e.abrupt("return",!0);case 14:return console.log(c),e.abrupt("return",!1);case 16:e.next=19;break;case 18:return e.abrupt("return",!1);case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s===i){e.next=4;break}alert("Passw\xf6rter m\xfcssen \xfcbereinstimmen!"),e.next=11;break;case 4:return e.next=6,o(a);case 6:if(!e.sent){e.next=10;break}alert("Email bereits in verwendung"),e.next=11;break;case 10:t();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{value:a,type:"email",id:"email",name:"email",className:"form-control my-4",placeholder:"E-mail",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",required:!0,onChange:function(e){n(e.target.value)}}),Object(c.jsx)("input",{value:s,type:"password",id:"pwd",name:"pwd",className:"form-control my-4",placeholder:"Passwort",pattern:".{8,}",maxLength:"56",required:!0,onChange:function(e){r(e.target.value)}}),Object(c.jsx)("input",{value:i,type:"password",name:"pwd-repeat",className:"form-control my-4",placeholder:"Passwort wiederholen",required:!0,onChange:function(e){l(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block mt-5",onClick:function(){return u()},children:"Weiter"})]})}),O=function(e){var t=e.buttonText,n=e.options,s=e.setId,r=Object(a.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),b=j[0],h=j[1];return Object(c.jsx)("div",{children:o?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row mt-4",children:[Object(c.jsx)("input",{id:"autocomplete",className:"col form-control",placeholder:"Suchen...",value:b,onChange:function(e){return h(e.target.value)},autoComplete:"off"}),Object(c.jsx)("button",{className:"col-1 btn form-control ml-2",onClick:function(){u(!o),h("")},children:"X"})]})}),Object(c.jsx)("div",{className:"autoContainer",children:n.filter((function(e){return e.name.substr(0,b.length).toUpperCase()===b.toUpperCase()})).slice(0,100).map((function(e,t){return Object(c.jsx)("div",{onClick:function(){var t;t=e.name,h(t),u(!1),s(e.id)},className:"my-2",tabIndex:0,style:{backgroundColor:"#212121",borderRadius:"10px"},children:Object(c.jsx)("div",{className:"pl-2 py-1",children:Object(c.jsx)("span",{children:e.name})})},t)}))})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn my-4",onClick:function(){u(!o),h("")},children:t}),Object(c.jsx)("p",{children:b})]})})},f=n(6),p=n.n(f),x=n(63),v=function(e){var t=e.setGebDat,n=Object(a.useState)(p()().subtract(18,"y")),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1];Object(a.useEffect)((function(){t(r)}),[r,t]);return Object(c.jsx)("div",{className:"mt-4",children:Object(c.jsx)(x.SingleDatePicker,{displayFormat:"DD.MM.YYYY",hideKeyboardShortcutsPanel:!0,onClose:function(){return j(!1)},numberOfMonths:1,date:r,onDateChange:function(e){return i(e)},focused:d,onFocusChange:function(e){return j(e)},renderMonthElement:function(e){var t,n=e.month,a=e.onMonthSelect,s=e.onYearSelect,r=[];for(t=p()().year()-18;t>=p()().year()-100;t--)r.push(Object(c.jsx)("option",{value:t,children:t},"year-".concat(t)));return Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(c.jsx)("div",{children:Object(c.jsx)("select",{value:n.month(),onChange:function(e){return a(n,e.target.value)},children:p.a.months().map((function(e,t){return Object(c.jsx)("option",{value:t,children:e},t)}))})}),Object(c.jsx)("div",{children:Object(c.jsx)("select",{value:n.year(),onChange:function(e){return s(n,e.target.value)},children:r})})]})},isOutsideRange:function(e){return!Object(x.isInclusivelyBeforeDay)(e,p()().subtract(18,"y"))}})})},g=function(e){e.name;var t=e.setName,n=e.beschreibung,a=e.setBeschreibung,s=e.studienrichtungen,r=e.setStudienrichtungsId,i=e.herkunftslaender,l=e.setHerkunftsstadtId,o=e.setGebDat,u=e.submitData,d=e.onClickBack;return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"name",id:"name",name:"name",className:"form-control mt-5",placeholder:"Name",pattern:"^[A-Za-z0-9_.]+$",required:!0,onChange:function(e){return t(e.target.value)}}),Object(c.jsx)(v,{setGebDat:o}),Object(c.jsx)(O,{buttonText:"Studienrichtung w\xe4hlen",options:s.map((function(e){return{id:e.stuId,name:e.bezeichnungDeutsch}})),setId:r}),Object(c.jsx)(O,{buttonText:"Herkunftsstadt w\xe4hlen",options:function(){var e=[];return i.forEach((function(t){t.staedte.forEach((function(n){e.push({name:"".concat(n.name,", ").concat(t.name),id:n.stadtId})}))})),e}(),setId:l}),Object(c.jsx)("textarea",{placeholder:"Beschreibung...",value:n,onChange:function(e){a(e.target.value)},maxLength:"255",className:"form-control mt-5"}),Object(c.jsxs)("div",{className:"row mt-5",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block",onClick:function(){return d()},children:"Zur\xfcck"})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block",onClick:function(){return u()},children:"Weiter"})})]})]})},y=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(a.useState)([]),O=Object(l.a)(j,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),y=v[0],N=v[1],k=Object(a.useState)(""),S=Object(l.a)(k,2),w=S[0],E=S[1],C=Object(a.useState)(""),D=Object(l.a)(C,2),I=D[0],z=D[1],L=Object(a.useState)(""),B=Object(l.a)(L,2),T=B[0],P=B[1],U=Object(a.useState)(""),A=Object(l.a)(U,2),Y=A[0],M=A[1],R=Object(a.useState)(),G=Object(l.a)(R,2),F=G[0],_=G[1],q=Object(a.useState)(-1),J=Object(l.a)(q,2),Z=J[0],H=J[1],K=Object(a.useState)(-1),V=Object(l.a)(K,2),W=V[0],$=V[1],X=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:8080/api/registrieren/options",e.next=4,fetch("http://localhost:8080/api/registrieren/options",{headers:{"content-type":"application/json"},method:"GET",credentials:"include"});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,t.ok&&(console.log(n),u(n.studienrichtungen),p(n.laender)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[]);var Q={email:y,setEmail:N,passwort:w,setPasswort:E,passwortRepeat:I,setPasswortRepeat:z,onClickNext:function(){s(n+1)}},ee={name:T,setName:P,beschreibung:Y,setBeschreibung:M,studienrichtungen:o,setStudienrichtungsId:H,herkunftslaender:f,setHerkunftsstadtId:$,setGebDat:_,submitData:function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:T,email:y,passwort:w,beschreibung:Y,gebDat:F,herkunftsStadtId:W,studienrichtungId:Z,sprachenIds:["de","en"]},console.log(t),e.prev=2,"http://localhost:8080/api/registrieren",e.next=6,fetch("http://localhost:8080/api/registrieren",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(t),credentials:"include"});case 6:e.sent.ok?console.log("YAY"):console.log("NOPE"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),onClickBack:function(){s(n-1)}};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"mt-5",children:"Registrieren"}),function(){switch(n){case 1:return Object(c.jsx)(m,Object(d.a)({},Q));case 2:return Object(c.jsx)(g,Object(d.a)({},ee))}}()]})},N=Object(a.createContext)(null),k=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(a.useContext)(N),b=Object(l.a)(j,2),h=b[0],m=b[1],O={email:n,passwort:o},f=Object(u.g)(),p=(Object(u.h)().state||{from:{pathname:"/"}}).from;return Object(a.useEffect)((function(){null!==h&&f.replace(p)}),[h,p,f]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"mt-5",children:"Login"}),Object(c.jsx)("input",{name:"email",type:"email",value:n,onChange:function(e){return s(e.target.value)},className:"form-control my-4",placeholder:"Name",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",required:!0}),Object(c.jsx)("input",{name:"passwort",type:"password",value:o,onChange:function(e){return d(e.target.value)},className:"form-control my-4",placeholder:"Passwort",pattern:".{8,}",maxLength:"56",required:!0}),Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block mt-5",type:"submit",name:"signup-submit",onClick:function(){m(O,(function(){f.replace(p)}))},children:"Login"})]})},S=n(315);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},s=Object.keys(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C=a.createElement("g",{transform:"rotate(0 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),D=a.createElement("g",{transform:"rotate(30 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),I=a.createElement("g",{transform:"rotate(60 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),z=a.createElement("g",{transform:"rotate(90 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),L=a.createElement("g",{transform:"rotate(120 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),B=a.createElement("g",{transform:"rotate(150 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),T=a.createElement("g",{transform:"rotate(180 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),P=a.createElement("g",{transform:"rotate(210 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),U=a.createElement("g",{transform:"rotate(240 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),A=a.createElement("g",{transform:"rotate(270 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),Y=a.createElement("g",{transform:"rotate(300 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),M=a.createElement("g",{transform:"rotate(330 50 50)"},a.createElement("rect",{x:47,y:24,rx:1.8,ry:1.8,width:6,height:12,fill:"#6190ff"},a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})));function R(e,t){var n=e.title,c=e.titleId,s=E(e,["title","titleId"]);return a.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":c},s),n?a.createElement("title",{id:c},n):null,C,D,I,z,L,B,T,P,U,A,Y,M)}var G=a.forwardRef(R),F=(n.p,function(e){var t=e.children,n=Object(S.a)(e,["children"]),s=Object(a.useContext)(N),r=Object(l.a)(s,5),i=r[0];return r[4]?Object(c.jsx)(G,{className:"spinner-full"}):Object(c.jsx)(u.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var n=e.location;return null!==i?t:Object(c.jsx)(u.a,{to:{pathname:"/login",state:{from:n}}})}}))}),_=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!0),r=Object(l.a)(s,2),i=r[0],o=r[1];function u(){return(u=Object(h.a)(b.a.mark((function e(t,n){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/api/login",e.next=3,fetch("http://localhost:8080/api/login",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(t),credentials:"include"});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,a.ok?(c(s),o(!1),n()):o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/api/refresh",e.next=3,fetch("http://localhost:8080/api/refresh",{headers:{"content-type":"application/json"},method:"GET",credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,t.ok?(c(n),setTimeout((function(){o(!1)}),300),setTimeout((function(){d()}),899500)):o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return[n,function(e,t){return u.apply(this,arguments)},d,function(e){c(null),e()},i]},q=(n(396),n.p+"static/media/city.0bf0d075.png"),J=n.p+"static/media/account_circle.147aab80.svg",Z=Object(a.forwardRef)((function(e,t){var n=e.id,a=e.isUsers,s=e.imageURL,r=e.stadt,i=e.land,l=e.zeitraum,o=e.text,d=e.erstellerImageURL,j=Object(u.g)();return a?Object(c.jsx)("div",{ref:t,className:"inserat-card mine mb-4",children:Object(c.jsx)("div",{className:"box",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("div",{className:"image-cropper",children:Object(c.jsx)("img",{src:s||q,alt:"stadt"})})}),Object(c.jsxs)("div",{className:"col-xs-9 mt-2",children:[Object(c.jsxs)("h3",{children:[r,", ",i]}),Object(c.jsx)("h4",{children:l}),Object(c.jsx)("p",{children:Object(c.jsx)("li",{children:o})})]})]})})}):Object(c.jsx)("div",{ref:t,className:"inserat-card mb-4",onClick:function(){j.push("/inserate/".concat(n))},children:Object(c.jsxs)("div",{className:"container box",children:[Object(c.jsxs)("div",{className:"row ",children:[Object(c.jsx)("div",{className:"col-xs-3",children:Object(c.jsx)("div",{className:"image-cropper",children:Object(c.jsx)("img",{src:s||q,alt:""})})}),Object(c.jsxs)("div",{className:"col-xs title",children:[Object(c.jsxs)("h3",{children:[r,", ",i]}),Object(c.jsx)("h4",{children:l})]})]}),Object(c.jsxs)("div",{className:"row float-right user-sucht",children:[Object(c.jsx)("div",{className:"col-xs-9 pt-4",children:Object(c.jsx)("p",{children:o})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("div",{className:null==d?"account-avatar":"profile-image-cropper",children:Object(c.jsx)("img",{src:d||J,alt:""})})})]})]})})})),H=(n(397),function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],n=Object(a.useState)(null),s=Object(l.a)(n,2),r=s[0],i=s[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(null),m=Object(l.a)(h,2),O=m[0],f=m[1],p=Object(a.useState)(null),x=Object(l.a)(p,2),v=x[0],g=x[1],y=Object(a.useState)(null),k=Object(l.a)(y,2),S=k[0],w=k[1],E=Object(a.useState)([]),C=Object(l.a)(E,2),D=C[0],I=C[1];return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/gemerkt",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){I(e)})).catch((function(e){console.log(e)})),fetch("http://localhost:8080/api/inserate/mine",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){i(e.zielStadt),b(e.zielLand),f(e.vonDat),g(e.bisDat),w(e.istAktiv)})).catch((function(e){return console.log(e)}))}),[t.token]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"mein-inserat",children:j&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"mt-5",children:"Mein Inserat"}),Object(c.jsx)(Z,{isUsers:!0,stadt:r?r.name:"...",land:j?j.name:"...",zeitraum:O+" - "+v,text:S?"Aktiv":"Inaktiv"})]})}),Object(c.jsxs)("div",{className:"merkliste mt-5",children:[Object(c.jsx)("h1",{children:"Merkliste"}),0!==D.length?Object(c.jsx)("div",{className:"merkliste-inhalt",children:D.map((function(e){var t;return Object(c.jsx)(Z,{id:e.inseratId,isUsers:!1,erstellerImageURL:!!(null===(t=e.ersteller.profilbild)||void 0===t?void 0:t.url)&&"".concat("","/images/").concat(e.ersteller.profilbild.url),stadt:e.zielStadt?e.zielStadt.name:"...",land:e.zielLand?e.zielLand.name:"...",zeitraum:e.vonDat+" - "+e.bisDat,text:"".concat(e.ersteller.name," sucht noch ").concat(e.maxUser," ").concat(e.maxUser>1?"Buddys":"Buddy")},e.inseratId)}))}):Object(c.jsxs)("p",{className:"mt-5 text-center",children:["Worauf wartest du? Klicke ",Object(c.jsx)(o.b,{to:"/suche",children:"hier"})," um Inserate zu durchst\xf6bern und deiner Merkliste hinzuzuf\xfcgen!"]})]})]})}),K=(n(398),n(447),n(448),n(449),function(e){var t=e.focusedInput,n=e.setFocusedInput,a=e.startDate,s=e.setStartDate,r=e.endDate,i=e.setEndDate,l=e.buddyCount,o=e.setBuddyCount,u=e.setSelectedLand,d=e.setSelectedStadt,j=e.staedteInLand,b=e.setStaedteInLand,h=e.setUni,m=e.setBeschreibung,O=e.laender,f=e.inseratErstellen;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("select",{className:"form-control my-4",name:"land",onChange:function(e){"- Land -"===e.target.value?(u(null),d({}),b([])):u(O[e.target.selectedIndex-1])},children:[Object(c.jsx)("option",{defaultValue:!0,children:"- Land -"}),O.map((function(e){return Object(c.jsx)("option",{children:e.name},e.landId)}))]}),Object(c.jsxs)("select",{className:"form-control my-4",name:"stadt",onChange:function(e){"- Stadt -"===e.target.value?d({}):d(j[e.target.selectedIndex-1])},children:[Object(c.jsx)("option",{defaultValue:!0,children:"- Stadt -"}),j.map((function(e){return Object(c.jsx)("option",{children:e.name},e.stadtId)}))]}),Object(c.jsx)("input",{className:"form-control my-4",name:"uni",onChange:function(e){return h(e.target.value)},placeholder:"Uni",required:!0}),Object(c.jsx)(x.DateRangePicker,{hideKeyboardShortcutsPanel:!0,displayFormat:"DD.MM.YYYY",startDate:a,startDateId:"start-date",endDate:r,endDateId:"end-date",onDatesChange:function(e){var t=e.startDate,n=e.endDate;s(t),i(n)},focusedInput:t,onFocusChange:function(e){return n(e)},block:!0}),Object(c.jsxs)("div",{className:"mt-5 row",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("p",{children:"Anzahl an Buddys"})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block",onClick:function(){l>0&&o(l-1)},children:"-"})}),Object(c.jsx)("div",{className:"col text-center",children:Object(c.jsx)("p",{children:l})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block",onClick:function(){o(l+1)},children:"+"})})]}),Object(c.jsx)("textarea",{maxLength:"255",className:"form-control mt-5",onChange:function(e){return m(e.target.value)},placeholder:"Beschreibung...",required:!0}),Object(c.jsx)("button",{className:"btn btn-lg btn-info btn-block mt-5",onClick:function(){f()},children:"Erstellen"})]})}),V=function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],n=Object(a.useState)(),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(),u=Object(l.a)(o,2),j=u[0],m=u[1],O=Object(a.useState)(),f=Object(l.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(0),g=Object(l.a)(v,2),y=g[0],k=g[1],S=Object(a.useState)(null),w=Object(l.a)(S,2),E=w[0],C=w[1],D=Object(a.useState)({}),I=Object(l.a)(D,2),z=I[0],L=I[1],B=Object(a.useState)(""),T=Object(l.a)(B,2),P=T[0],U=T[1],A=Object(a.useState)(""),Y=Object(l.a)(A,2),M=Y[0],R=Y[1],G=Object(a.useState)([]),F=Object(l.a)(G,2),_=F[0],q=F[1],J=Object(a.useState)([]),Z=Object(l.a)(J,2),H=Z[0],V=Z[1],W={focusedInput:r,setFocusedInput:i,startDate:j,setStartDate:m,endDate:p,setEndDate:x,buddyCount:y,setBuddyCount:k,setSelectedLand:C,setSelectedStadt:L,staedteInLand:H,setStaedteInLand:V,setUni:U,setBeschreibung:R,laender:_,inseratErstellen:function(){return $.apply(this,arguments)}};function $(){return($=Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={zielStadtId:z.stadtId,uni:P,maxUser:y,beschreibung:M,vonDat:j,bisDat:p,erstellerId:t.id},e.prev=1,"http://localhost:8080/api/inserate",e.next=5,fetch("http://localhost:8080/api/inserate",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"POST",body:JSON.stringify(n),credentials:"include"});case 5:e.sent.ok?console.log("YAY"):console.log("NOPE"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:8080/api/laender",e.next=4,fetch("http://localhost:8080/api/laender",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,n.ok&&q(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[t.token]),Object(a.useEffect)((function(){null!==E&&V(E.staedte)}),[E]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"mt-5",children:"Inserat erstellen"}),Object(c.jsx)(K,Object(d.a)({},W))]})},W=n(65),$=(n(450),function(e){var t=e.setSelectedLand,n=e.setSelectedStadt,s=e.laender,r=e.staedteInLand,i=e.setStaedteInLand,o=e.startDate,u=e.setStartDate,d=e.endDate,j=e.setEndDate,b=e.search,h=Object(a.useState)(),m=Object(l.a)(h,2),O=m[0],f=m[1];return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"mt-5",children:Object(c.jsxs)("div",{className:"filter-bar",children:[Object(c.jsxs)("div",{className:"land",children:[Object(c.jsx)("p",{children:"Land"}),Object(c.jsxs)("select",{className:"form-control",name:"land",onChange:function(e){"-"===e.target.value?(t(null),n({}),i([])):t(s[e.target.selectedIndex-1])},children:[Object(c.jsx)("option",{defaultValue:!0,children:"-"}),s.map((function(e){return Object(c.jsx)("option",{children:e.name},e.landId)}))]})]}),Object(c.jsx)("div",{className:"vl"}),Object(c.jsxs)("div",{className:"stadt",children:[Object(c.jsx)("p",{children:"Stadt"}),Object(c.jsxs)("select",{className:"form-control",name:"stadt",onChange:function(e){"-"===e.target.value?n({}):n(r[e.target.selectedIndex-1])},children:[Object(c.jsx)("option",{defaultValue:!0,children:"-"}),r.map((function(e){return Object(c.jsx)("option",{children:e.name},e.stadtId)}))]})]}),Object(c.jsx)("div",{className:"vl"}),Object(c.jsx)("div",{className:"date",children:Object(c.jsx)(x.DateRangePicker,{verticalHeight:370,orientation:"vertical",numberOfMonths:1,hideKeyboardShortcutsPanel:!0,displayFormat:"DD.MM.YYYY",startDate:o,startDateId:"start-date",endDate:d,endDateId:"end-date",onDatesChange:function(e){var t=e.startDate,n=e.endDate;u(t),j(n)},focusedInput:O,onFocusChange:function(e){return f(e)},block:!0})}),Object(c.jsx)("button",{className:"btn",onClick:function(){b()},children:Object(c.jsx)("span",{className:"icons",children:"search"})})]})})})}),X=(n(451),function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],n=Object(a.useState)([]),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(null),u=Object(l.a)(o,2),j=u[0],m=u[1],O=Object(a.useState)({}),f=Object(l.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),y=g[0],k=g[1],S=Object(a.useState)([]),w=Object(l.a)(S,2),E=w[0],C=w[1],D=Object(a.useState)(null),I=Object(l.a)(D,2),z=I[0],L=I[1],B=Object(a.useState)(null),T=Object(l.a)(B,2),P=T[0],U=T[1],A=Object(a.useState)(!0),Y=Object(l.a)(A,2),M=Y[0],R=Y[1],G=Object(a.useState)(!1),F=Object(l.a)(G,2),_=F[0],q=F[1],J=Object(a.useState)(0),H=Object(l.a)(J,2),K=H[0],V=H[1],X=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://localhost:8080/api/laender",fetch("http://localhost:8080/api/laender",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return k(e)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[t.token]),Object(a.useEffect)((function(){null!==j&&C(j.staedte)}),[j]),Object(a.useEffect)((function(){!function(){R(!0);var e="",n="",c="",a="";null!==j&&(e+=j.landId),0!==Object.keys(p).length&&null!==j&&(n+=p.stadtId),null!==z&&(c+=z.format("DD.MM.YYYY")),null!==P&&(a+=P.format("DD.MM.YYYY"));var s="http://".concat("localhost",":8080/api/inserate?page=").concat(K,"&land=").concat(e,"&stadt=").concat(n,"&von=").concat(c,"&bis=").concat(a),r=new AbortController;fetch(s,{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include",signal:r.signal}).then((function(e){return e.json()})).then((function(e){console.log(e),i((function(t){return Object(W.a)(new Set([].concat(Object(W.a)(t),Object(W.a)(e.content))))})),q(!e.last),R(!1)})).catch((function(e){"AbortError"===e.name&&r.abort()}))}()}),[t.token,K]);var Q={setSelectedLand:m,setSelectedStadt:x,laender:y,staedteInLand:E,setStaedteInLand:C,startDate:z,setStartDate:L,endDate:P,setEndDate:U,search:function(){}},ee=Object(a.useRef)(),te=Object(a.useCallback)((function(e){M||(ee.current&&ee.current.disconnect(),ee.current=new IntersectionObserver((function(e){e[0].isIntersecting&&_&&V((function(e){return e+1}))})),e&&ee.current.observe(e))}),[M,_]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"mb-4",children:Object(c.jsx)($,Object(d.a)({},Q))}),Object(c.jsx)("div",{className:"inserate",children:r.map((function(e,t){var n,a;return r.length===t+1?Object(c.jsx)(Z,{ref:te,id:e.inseratId,isUsers:!1,erstellerImageURL:(null===(n=e.ersteller.profilbild)||void 0===n?void 0:n.url)?"".concat("","/images/").concat(e.ersteller.profilbild.url):null,stadt:e.zielStadt?e.zielStadt.name:"...",land:e.zielLand?e.zielLand.name:"...",zeitraum:e.vonDat+" - "+e.bisDat,text:"".concat(e.ersteller.name," sucht noch ").concat(e.maxUser," ").concat(e.maxUser>1?"Buddys":"Buddy")},e.inseratId):Object(c.jsx)(Z,{id:e.inseratId,isUsers:!1,erstellerImageURL:(null===(a=e.ersteller.profilbild)||void 0===a?void 0:a.url)?"".concat("","/images/").concat(e.ersteller.profilbild.url):null,stadt:e.zielStadt?e.zielStadt.name:"...",land:e.zielLand?e.zielLand.name:"...",zeitraum:e.vonDat+" - "+e.bisDat,text:"".concat(e.ersteller.name," sucht noch ").concat(e.maxUser," ").concat(e.maxUser>1?"Buddys":"Buddy")},e.inseratId)}))}),Object(c.jsx)("p",{children:M&&"Loading..."})]})}),Q=(n(452),n(314)),ee=function(e){var t=e.text,n=e.timestamp,a=e.isMine,s=e.key;return Object(c.jsxs)("div",{className:a?"sent":"reply",children:[Object(c.jsx)("p",{children:t}),Object(c.jsx)("p",{children:n})]},s)},te=null,ne=function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],s=Object(a.useState)([]),r=Object(l.a)(s,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),f=O[0],p=O[1],x=Object(a.useState)(i[0]),v=Object(l.a)(x,2),g=v[0],y=v[1];Object(a.useEffect)((function(){k(),D()}),[]),Object(a.useEffect)((function(){if(void 0!==g){var e="http://".concat("localhost",":8080/api/messages?sender-id=").concat(t.id,"&recipient-id=").concat(g.id);fetch(e,{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.log(e)})),D()}}),[g]);var k=function(){var e=n(600),t=new(n(607))("http://localhost:8080/api/chat");(te=e.over(t)).connect({},S,w)},S=function(){console.log("connected"),te.subscribe("/topic/user/messages/"+t.id,(function(e){return E(e)}))},w=function(e){console.log(e)},E=function(e){var t=JSON.parse(e.body);D(),h((function(e){return[].concat(Object(W.a)(e),[t])}))},C=function(e){if(""!==e.trim()){var n={senderId:t.id,recipientIds:[g.id],content:e};te.send("/app/chat/user/"+g.id,{},JSON.stringify(n)),h((function(e){return[].concat(Object(W.a)(e),[n])}))}},D=function(){u(t.contacts),y(t.contacts[0])};return Object(c.jsxs)("div",{className:"outer",children:[Object(c.jsx)("h1",{className:"mt-5",children:"Chat"}),Object(c.jsx)("div",{className:"container chat-box",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3 sidepanel",children:Object(c.jsx)("ul",{children:i.map((function(e){return Object(c.jsx)("li",{onClick:function(){return y(e)},className:g&&e.id===g.id?"contact active":"contact",children:Object(c.jsxs)("div",{className:"wrap",children:[Object(c.jsx)("img",{id:e.id,src:e.profilbild,alt:""}),Object(c.jsx)("div",{className:"meta",children:Object(c.jsx)("p",{className:"name",children:e.name})})]})})}))})}),Object(c.jsx)("div",{className:"col mycol",children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"contact-profile",children:Object(c.jsx)(o.b,{to:"/profile/".concat(g&&g.id),children:Object(c.jsx)("p",{children:g&&g.name})})}),Object(c.jsx)(Q.a,{className:"messages",debug:!0,children:b.map((function(e){var n=e.content,a=e.senderId;return Object(c.jsx)("div",{className:"message",children:Object(c.jsx)(ee,{b:!0,text:n,isMine:a==t.id})})}))}),Object(c.jsx)("div",{className:"message-input",children:Object(c.jsxs)("div",{className:"wrap",children:[Object(c.jsx)("input",{autoComplete:"off",name:"user_input",size:"large",placeholder:"Write your message...",value:f,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(C(f),p(""))}}),Object(c.jsx)("button",{onClick:function(){C(f),p("")},children:Object(c.jsx)("span",{className:"icons send",children:"send"})})]})})]})})]})})]})},ce=function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],n=Object(a.useState)(null),s=Object(l.a)(n,2),r=s[0],i=s[1],o=function(){var e=Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new FormData,"http://localhost:8080/api/images",null!=r&&(n.append("file",r,r.name),n.append("email",new Blob([new String(t.email)],{type:"text/plain"})),fetch("http://localhost:8080/api/images",{headers:{Authorization:"Bearer "+t.token},processData:!1,contentType:!1,method:"POST",body:n,credentials:"include"}).then((function(e){return console.log(e)})).catch(console.log("Something went wrong...")));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{className:"mt-5",children:"Profil"}),Object(c.jsxs)("p",{children:["ID: ",t.id]}),Object(c.jsxs)("p",{children:["Email: ",t.email]}),Object(c.jsxs)("p",{children:["Geburtsdatum: ",t.gebDat]}),Object(c.jsxs)("p",{children:["Herkunftsstadt: ",t.herkunftsStadt.name]}),Object(c.jsxs)("p",{children:["Studienrichtung: ",t.studienrichtung.bezeichnungDeutsch]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("input",{type:"file",className:"mt-5",onChange:function(e){return i(e.target.files[0])}})}),Object(c.jsx)("div",{className:"col ",children:Object(c.jsx)("button",{className:"btn btn-lg mt-5",onClick:function(){return o()},children:"Upload"})})]})]})},ae=function(){var e=Object(a.useContext)(N),t=Object(l.a)(e,1)[0],n=Object(a.useState)(null),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)({}),u=Object(l.a)(o,2),j=(u[0],u[1]),m=Object(a.useState)([]),O=Object(l.a)(m,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(l.a)(x,2),g=v[0],y=v[1],k=Object(a.useState)(),S=Object(l.a)(k,2),w=S[0],E=S[1],C=Object(a.useState)(),D=Object(l.a)(C,2),I=D[0],z=D[1],L={setSelectedLand:i,setSelectedStadt:j,laender:f,staedteInLand:g,setStaedteInLand:y,startDate:w,setStartDate:E,endDate:I,setEndDate:z},B=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://localhost:8080/api/laender",fetch("http://localhost:8080/api/laender",{headers:{"content-type":"application/json",Authorization:"Bearer "+t.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){B()}),[t.token]),Object(a.useEffect)((function(){null!==r&&y(r.staedte)}),[r]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)($,Object(d.a)({},L))})},se=(n(636),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=(t[0],t[1],Object(a.useState)(!1)),s=Object(l.a)(n,2),r=(s[0],s[1],Object(a.useState)(!1)),i=Object(l.a)(r,2),u=(i[0],i[1],Object(a.useState)(!1)),d=Object(l.a)(u,2),j=(d[0],d[1],Object(a.useState)(!1)),b=Object(l.a)(j,2);b[0],b[1];return Object(c.jsx)("nav",{className:"navbar fixed-bottom",children:Object(c.jsxs)("div",{className:"btn-group mx-auto",children:[Object(c.jsx)(o.b,{className:"nav-item nav-link",to:"/",children:Object(c.jsx)("span",{className:"icons",children:"home"})}),Object(c.jsx)(o.b,{className:"nav-item nav-link",to:"/suche",children:Object(c.jsx)("span",{className:"icons",children:"search"})}),Object(c.jsx)(o.b,{className:"nav-item nav-link",to:"/add",children:Object(c.jsx)("span",{className:"icons",children:"add_circle"})}),Object(c.jsx)(o.b,{className:"nav-item nav-link",to:"/chat",children:Object(c.jsx)("span",{className:"icons",children:"chat_bubble"})}),Object(c.jsx)(o.b,{className:"nav-item nav-link",to:"/profil",children:Object(c.jsx)("span",{className:"icons",children:"person"})})]})})}),re=function(e){var t=e.children;return Object(c.jsxs)("div",{children:[Object(c.jsx)(se,{}),t]})},ie=(n(637),function(e){var t=e.id,n=e.profilbildURL,a=e.name,s=e.alter,r=e.studium,i=e.istErsteller,l=(e.contactZeigen,Object(u.g)());return Object(c.jsx)("div",{className:"profil-card my-3",onClick:function(){l.push("/profile/".concat(t))},children:Object(c.jsxs)("div",{className:"row flex-nowrap",children:[Object(c.jsx)("div",{className:"col profilbild-wrapper align-self-center",children:Object(c.jsx)("img",{src:n||J,alt:"bla"})}),Object(c.jsxs)("div",{className:"col-7 text pt-2",children:[Object(c.jsxs)("h3",{children:[a,", ",s]}),Object(c.jsxs)("h4",{children:["Studiert ",r]}),Object(c.jsx)("p",{children:i?"Ersteller":"Buddy"})]}),Object(c.jsx)("div",{className:"col chat-button align-self-center",children:!1})]})})}),le=(n(638),function(){var e,t=Object(a.useContext)(N),n=Object(l.a)(t,1)[0],s=Object(a.useState)(),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(),j=Object(l.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(),O=Object(l.a)(m,2),f=O[0],p=O[1],x=Object(a.useState)(!0),v=Object(l.a)(x,2),g=v[0],y=v[1],k=Object(u.i)().id,S=Object(a.useState)(!1),w=Object(l.a)(S,2),E=w[0],C=w[1];Object(a.useEffect)((function(){fetch("http://localhost:8080/api/inserate/"+k,{headers:{"content-type":"application/json",Authorization:"Bearer "+n.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){o({id:e.inseratId,beschreibung:e.beschreibung,maxUser:e.maxUser,uni:e.uni,vonDat:e.vonDat,bisDat:e.bisDat,mitglieder:e.mitglieder}),h(e.zielStadt),p(e.ersteller),y(!1)})).catch((function(e){console.log(e)})).finally((function(){y(!1)})),fetch("http://localhost:8080/api/gemerkt",{headers:{"content-type":"application/json",Authorization:"Bearer "+n.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){C(e.some((function(e){return e.inseratId===k})))})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)(c.Fragment,{children:!g&&Object(c.jsxs)("div",{className:"mt-5",children:[Object(c.jsxs)("div",{className:"image-container",children:[E?Object(c.jsx)("span",{className:"icons entmerken",onClick:function(){return fetch("http://localhost:8080/api/inserate/entmerken/"+k,{headers:{"content-type":"application/json",Authorization:"Bearer "+n.token},method:"DELETE",credentials:"include"}),void C(!1)},children:"star"}):Object(c.jsx)("span",{className:"icons merken",onClick:function(){return fetch("http://localhost:8080/api/inserate/merken/"+k,{headers:{"content-type":"application/json",Authorization:"Bearer "+n.token},method:"POST",credentials:"include"}),void C(!0)},children:"star_border"}),Object(c.jsx)("div",{className:"image-wrapper",children:Object(c.jsx)("img",{src:q})})]}),Object(c.jsxs)("div",{className:"info-block my-3",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col heading",children:[Object(c.jsx)("h3",{children:b.name}),Object(c.jsxs)("h4",{children:[i.vonDat," - ",i.bisDat]})]}),Object(c.jsx)("div",{className:"col text-right anfragen",children:f.userId===n.id||n.gruppe.inseratId===i.id?Object(c.jsx)("div",{}):Object(c.jsx)("button",{className:"btn",onClick:function(){fetch("http://localhost:8080/api/inserate/"+k,{headers:{"content-type":"application/json",Authorization:"Bearer "+n.token},method:"POST",credentials:"include"}).then((function(e){return console.log(e)}))},children:"Anfragen"})})]}),Object(c.jsxs)("div",{className:"stats",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icons",children:"group"}),1===i.maxUser?"".concat(i.maxUser," weiterer Buddy"):"".concat(i.maxUser," weitere Buddys")]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icons",children:"school"}),i.uni]})]}),Object(c.jsx)("p",{className:"py-3",children:i.beschreibung})]}),Object(c.jsx)(ie,{id:f.userId,profilbildURL:!!(null===(e=f.profilbild)||void 0===e?void 0:e.url)&&"".concat("","/images/").concat(f.profilbild.url),name:f.name,alter:f.alter,studium:f.studium,istErsteller:!0,contactZeigen:n.id!==f.userId}),i.mitglieder.map((function(e,t){var a;return Object(c.jsx)(ie,{id:e.userId,profilbildURL:!!(null===(a=e.profilbild)||void 0===a?void 0:a.url)&&"".concat("","/images/").concat(e.profilbild.url),name:e.name,alter:e.alter,studium:e.studium,istErsteller:!1,contactZeigen:n.id!==e.userId},t)}))]})})}),oe=(n(639),function(){var e,t,n=Object(a.useContext)(N),s=Object(l.a)(n,1)[0],r=Object(a.useState)(!0),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(a.useState)(),b=Object(l.a)(j,2),h=b[0],m=b[1],O=Object(a.useState)(),f=Object(l.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(),g=Object(l.a)(v,2),y=g[0],k=g[1],S=Object(a.useState)(),w=Object(l.a)(S,2),E=w[0],C=w[1],D=Object(a.useState)([]),I=Object(l.a)(D,2),z=I[0],L=I[1],B=Object(a.useState)(!1),T=Object(l.a)(B,2),P=T[0],U=T[1],A=Object(u.i)().id,Y=Object(u.g)();return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/user/"+A,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){m(e),x(e.herkunftsStadt),k(e.herkunftsLand),C(e.studienrichtung),L(e.sprachen),d(!1)})).catch((function(e){console.log(e)})).finally((function(){d(!1)})),fetch("http://localhost:8080/api/inserate/reqmine/"+A,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.token},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){U(e)})).catch((function(e){U(!1),console.log(e)}))}),[]),Object(c.jsx)(c.Fragment,{children:!o&&Object(c.jsxs)("div",{className:"profil",children:[Object(c.jsx)("div",{className:(null===(e=h.profilbild)||void 0===e?void 0:e.url)?"image-cropper mt-5":"account-avatar mt-5",children:Object(c.jsx)("img",{src:(null===(t=h.profilbild)||void 0===t?void 0:t.url)?"".concat("","/images/").concat(h.profilbild.url):J,alt:"profile"})}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"profil-content",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:[h.name,", ",h.alter]}),Object(c.jsxs)("h4",{children:[p.name,", ",y.name]}),Object(c.jsxs)("h5",{children:["Studiert ",E.bezeichnungDeutsch]}),Object(c.jsx)("h5",{children:z.map((function(e){}))})]}),Object(c.jsx)("div",{className:"col chat-button",children:s.id!=A&&Object(c.jsx)("span",{className:"icons",onClick:function(){fetch("http://localhost:8080/api/user/add-contact/"+A,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.token},method:"PUT",credentials:"include"}).then((function(){Y.push("/chat")})).catch((function(e){return console.log(e)}))},children:"chat_bubble_outline"})})]}),Object(c.jsx)("p",{children:h.beschreibung})]}),P&&Object(c.jsx)("button",{className:"btn chat-button",onClick:function(){fetch("http://localhost:8080/api/inserate/add-to-gruppe/"+A,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.token},method:"POST",credentials:"include"}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},children:"Zur Gruppe hinzuzuf\xfcgen"})]})})}),ue=function(){var e=_();return Object(a.useEffect)((function(){(0,Object(l.a)(e,3)[2])()}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(N.Provider,{value:e,children:Object(c.jsx)(o.a,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(F,{exact:!0,path:"/",children:Object(c.jsx)(re,{children:Object(c.jsx)(H,{})})}),Object(c.jsx)(F,{path:"/suche",children:Object(c.jsx)(re,{children:Object(c.jsx)(X,{})})}),Object(c.jsx)(F,{path:"/add",children:Object(c.jsx)(re,{children:Object(c.jsx)(V,{})})}),Object(c.jsx)(F,{path:"/chat",children:Object(c.jsx)(re,{children:Object(c.jsx)(ne,{})})}),Object(c.jsx)(F,{path:"/profil",children:Object(c.jsx)(re,{children:Object(c.jsx)(ce,{})})}),Object(c.jsx)(F,{exact:!0,path:"/inserate/:id",children:Object(c.jsx)(re,{children:Object(c.jsx)(le,{})})}),Object(c.jsx)(F,{exact:!0,path:"/profile/:id",children:Object(c.jsx)(re,{children:Object(c.jsx)(oe,{})})}),Object(c.jsx)(u.b,{path:"/registrieren",children:Object(c.jsx)(y,{})}),Object(c.jsx)(u.b,{path:"/login",children:Object(c.jsx)(k,{})}),Object(c.jsx)(F,{path:"/test",children:Object(c.jsx)(ae,{})})]})})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,641)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ue,{})}),document.getElementById("root")),de()}},[[640,1,2]]]);
//# sourceMappingURL=main.9179244d.chunk.js.map